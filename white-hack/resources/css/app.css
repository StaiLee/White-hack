/* -------------------- THEME DE BASE -------------------- */
:root{
  --bg:#0a111c; --surface:#0f1726; --text:#e7f1ff; --muted:#9fb3c6;
  --border:rgba(255,255,255,.10);
  --brand1:#20e3b2; --brand2:#29abe2; --brand3:#9b59b6;
  --easy1:#38ef7d; --easy2:#22c1c3;
  --mid1:#ffd166;  --mid2:#ff7e67;
  --hard1:#ff5f6d; --hard2:#a10036;
}

*{box-sizing:border-box}
html,body{height:100%}
body.wh-body{
  margin:0; color:var(--text); background:var(--bg);
  -webkit-font-smoothing:antialiased; font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Inter,Arial;
}

/* Bulles douces et animées */
body.wh-body::before{
  content:""; position:fixed; inset:0; pointer-events:none; z-index:-1;
  background:
    radial-gradient(10px 10px at 15% 25%, rgba(124,196,255,.20) 0 6px, transparent 7px),
    radial-gradient(12px 12px at 75% 35%, rgba(255,130,185,.20) 0 7px, transparent 8px),
    radial-gradient(8px 8px at 40% 80%,  rgba(122,255,182,.18) 0 5px, transparent 6px),
    radial-gradient(11px 11px at 88% 72%, rgba(255,214,102,.18) 0 7px, transparent 8px);
  filter:blur(.4px) saturate(1.05);
  animation:bubbles 26s linear infinite; opacity:.45;
}
@keyframes bubbles{0%{transform:translateY(0)}50%{transform:translateY(-12px)}100%{transform:translateY(0)}}

.wh-container{max-width:1200px;margin:0 auto;padding:24px}
.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.mt-6{margin-top:1.5rem}
.mb-2{margin-bottom:.5rem}.flex-1{flex:1}.muted{color:var(--muted)}.up{text-transform:uppercase;letter-spacing:.06em}

.read-progress{position:fixed;top:0;left:0;height:3px;background:linear-gradient(90deg,#08f,#6cf,#9f6,#ff0,#fa0,#f36,#90f);width:0;z-index:50}

/* NAV */
.wh-nav{position:sticky;top:0;z-index:20;background:linear-gradient(180deg,#0b1422,rgba(11,20,34,.85));border-bottom:1px solid var(--border);backdrop-filter:saturate(1.1) blur(4px)}
.nav-inner{display:flex;align-items:center;gap:18px;justify-content:space-between}
.brand{display:flex;align-items:center;gap:.65rem;text-decoration:none}
.logo-dot{width:18px;height:18px;border-radius:9999px;background:conic-gradient(#08f,#6cf,#9f6,#ff0,#fa0,#f36,#90f,#08f);box-shadow:0 0 14px rgba(120,220,255,.4),0 0 26px rgba(255,120,220,.25);animation:hueSpin 8s linear infinite}
@keyframes hueSpin{from{filter:hue-rotate(0)}to{filter:hue-rotate(360deg)}}
.brand-text{font-weight:900;color:#dff3ff;font-size:1.25rem;letter-spacing:.3px;text-shadow:0 2px 12px rgba(0,0,0,.35)}
.nav-links{display:flex;gap:18px;list-style:none;padding:0;margin:0}
.nav-links a{color:#d5e7ff;text-decoration:none;font-weight:700;opacity:.9}
.nav-links a:hover{opacity:1}
.nav-actions{display:flex;gap:10px}

/* BOUTONS / INPUTS */
.btn-primary{
  background:linear-gradient(90deg,var(--brand1),var(--brand2),var(--brand3));
  background-size:300% 100%;animation:shine 10s linear infinite;
  color:#04121e;border:0;border-radius:14px;padding:.8rem 1.1rem;font-weight:900;cursor:pointer;
  box-shadow:0 10px 26px rgba(0,0,0,.45);text-decoration:none;display:inline-block
}
.btn-primary:hover{transform:translateY(-2px)}
.btn-secondary{color:#d6e9ff;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.14);border-radius:12px;padding:.7rem 1rem;font-weight:800;text-decoration:none;display:inline-block}
.btn-ghost{color:#cfe9ff;background:transparent;border:1px solid rgba(255,255,255,.2);border-radius:10px;padding:.55rem .9rem;font-weight:800;text-decoration:none;display:inline-block}
.inp{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.15);padding:.7rem .9rem;border-radius:14px;color:#fff;outline:none}
.inp:focus{border-color:#6cf;box-shadow:0 0 0 3px rgba(102,204,255,.18)}
@keyframes shine{0%{background-position:0% 50%}100%{background-position:300% 50%}}

/* CARTES */
.card,.wh-card{position:relative;border-radius:18px;background:linear-gradient(180deg, rgba(15,23,38,.78), rgba(8,12,24,.78));border:1px solid var(--border);padding:1rem 1.1rem;box-shadow:0 10px 28px rgba(0,0,0,.34);overflow:hidden}
.card::after,.wh-card::after{content:""; position:absolute; inset:-12%;
  background:radial-gradient(10px 10px at 12% 80%, rgba(113,211,255,.2) 0, transparent 60%),radial-gradient(9px 9px at 80% 18%, rgba(255,130,185,.18) 0, transparent 60%),linear-gradient(115deg, transparent 40%, rgba(45,180,210,.18) 41%, rgba(45,180,210,.08) 45%, transparent 46%);
  filter:saturate(1.1); opacity:.5; pointer-events:none}

/* Grids */
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;margin-top:18px}
.grid-2{display:grid;grid-template-columns:repeat(2,1fr);gap:18px}
@media(max-width:1200px){.grid-3{grid-template-columns:repeat(2,1fr)}}@media(max-width:820px){.grid-3{grid-template-columns:1fr}.grid-2{grid-template-columns:1fr}}

/* HERO */
.hero .hero-title{font-size:2rem;margin:.35rem 0 0}
.hero-sub{color:var(--muted);margin:.35rem 0 1rem}
.hero-cta{display:flex;gap:10px;margin-top:.5rem}
.brand-gradient{background:linear-gradient(90deg,#7ee8fa,#80ffea,#a0ff8f,#ffe066,#ff8f66,#a889ff,#7ee8fa);-webkit-background-clip:text;background-clip:text;color:transparent}

/* Progress stat */
.progress-wrap{margin-top:.6rem;height:8px;background:rgba(255,255,255,.08);border-radius:9px;overflow:hidden;border:1px solid rgba(255,255,255,.12)}
.progress-bar{height:100%;width:var(--p,12%);background:linear-gradient(90deg,#08f,#6cf,#9f6);box-shadow:0 0 16px rgba(136,220,255,.35) inset}
.stat-big{font-size:2.1rem;font-weight:900}

/* COURS */
.courses-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:22px}
@media(max-width:1200px){.courses-grid{grid-template-columns:repeat(2,1fr)}}@media(max-width:820px){.courses-grid{grid-template-columns:1fr}}

.course-card{position:relative;overflow:hidden;border-radius:22px;background:rgba(7,12,22,.72);border:1px solid rgba(255,255,255,.08);padding:24px;min-height:360px;display:flex;flex-direction:column;gap:14px;isolation:isolate}
.course-card::before{content:"";position:absolute;inset:-10% -25% auto -25%;height:120%;background:linear-gradient(130deg, rgba(0,255,255,.12), rgba(0,255,200,.04) 40%, transparent 65%);transform:rotate(8deg);z-index:-1;filter:blur(.8px)}
.course-card__bg{pointer-events:none;position:absolute;inset:-15% -10% -20% -10%;background:radial-gradient(circle at 12% 22%, rgba(255,255,255,.10) 0 3px, transparent 4px),radial-gradient(circle at 38% 46%, rgba(255,255,255,.10) 0 4px, transparent 5px),radial-gradient(circle at 72% 30%, rgba(255,255,255,.10) 0 5px, transparent 6px),radial-gradient(circle at 84% 78%, rgba(255,255,255,.10) 0 4px, transparent 5px);opacity:.45; z-index:-1; animation:floatBg 22s linear infinite}
@keyframes floatBg{0%{transform:translateY(0)}100%{transform:translateY(-6%)}}
.course-card__badge{display:inline-flex;align-items:center;gap:.5rem;padding:.38rem .75rem;border-radius:9999px;font-size:.9rem;font-weight:800;border:1px solid rgba(255,255,255,.15); width:max-content}
.course-card__title{font-size:1.8rem;line-height:1.2;font-weight:900}
.course-card__desc{color:rgba(255,255,255,.82);max-width:60ch;flex:1}
.course-card__footer{margin-top:auto}
.course-card__hover{position:absolute;inset:auto -20% -30% -20%;height:120%;background:radial-gradient(ellipse at 50% 20%, rgba(255,255,255,.06), transparent 60%);opacity:0;transition:opacity .25s ease;z-index:-1}
.course-card:hover .course-card__hover{opacity:1}

/* BADGES & TITRES PAR DIFFICULTÉ */
.chip-easy{background:linear-gradient(90deg,var(--easy1),var(--easy2));color:#05251b;border:none}
.chip-medium{background:linear-gradient(90deg,var(--mid1),var(--mid2));color:#2d1400;border:none}
.chip-hard{background:linear-gradient(90deg,var(--hard1),var(--hard2));color:#32020e;border:none}

.t-easy,.t-medium,.t-hard{-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 0 18px rgba(0,0,0,.25);animation:titlePulse 4s ease-in-out infinite}
.t-easy{background-image:linear-gradient(90deg,var(--easy1),var(--easy2))}
.t-medium{background-image:linear-gradient(90deg,var(--mid1),var(--mid2))}
.t-hard{background-image:linear-gradient(90deg,var(--hard1),var(--hard2))}
@keyframes titlePulse{0%,100%{filter:saturate(1) brightness(1)}50%{filter:saturate(1.35) brightness(1.15)}}

/* Titre arc-en-ciel générique */
.rainbow-title{background:linear-gradient(90deg,#7ee8fa,#80ffea,#a0ff8f,#ffe066,#ff8f66,#a889ff,#7ee8fa);-webkit-background-clip:text;background-clip:text;color:transparent}
.animated-rainbow{animation:rbw 8s linear infinite}
@keyframes rbw{0%{background-position:0% 50%}100%{background-position:400% 50%}}

/* FILTRES (pills) */
.filters{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
.btn-filter{--bg:rgba(255,255,255,.06);--br:rgba(255,255,255,.15);display:inline-flex;align-items:center;gap:.5rem;padding:.65rem 1rem;border-radius:9999px;border:1px solid var(--br);background:var(--bg);font-weight:900;font-size:1rem;text-decoration:none;color:#eaf3ff;transition:transform .15s ease, box-shadow .25s ease, background .25s ease}
.btn-filter .count{opacity:.95;margin-left:.4rem}
.btn-filter:hover{transform:translateY(-1px);box-shadow:0 8px 24px rgba(0,0,0,.28)}
.btn-filter.is-active{box-shadow:0 0 0 2px rgba(255,255,255,.18),0 8px 20px rgba(0,0,0,.35)}
.btn-rainbow{background:linear-gradient(90deg,#23d5ab,#23a6d5,#23d5ab,#e7d84b,#ee7752,#e73c7e,#23d5ab);background-size:400% 100%;animation:shine 8s linear infinite;color:#0b1020;border-color:transparent}

/* Dégradé ANIMÉ forcé si des filtres utilisent encore chip-* */
.btn-filter.chip-easy{background-image:linear-gradient(90deg,var(--easy1),var(--easy2)) !important;background-size:200% 100%;animation:gradeLoop 6s linear infinite;color:#05251b;border-color:transparent;box-shadow:0 8px 22px rgba(46,210,150,.25), inset 0 0 0 1px rgba(255,255,255,.08)}
.btn-filter.chip-medium{background-image:linear-gradient(90deg,var(--mid1),var(--mid2)) !important;background-size:200% 100%;animation:gradeLoop 6s linear infinite;color:#2d1400;border-color:transparent;box-shadow:0 8px 22px rgba(255,173,66,.25), inset 0 0 0 1px rgba(255,255,255,.08)}
.btn-filter.chip-hard{background-image:linear-gradient(90deg,var(--hard1),var(--hard2)) !important;background-size:200% 100%;animation:gradeLoop 6s linear infinite;color:#32020e;border-color:transparent;box-shadow:0 8px 22px rgba(255,80,110,.25), inset 0 0 0 1px rgba(255,255,255,.08)}
@keyframes gradeLoop{0%{background-position:0% 50%}100%{background-position:200% 50%}}

/* === PASTILLES DE DIFFICULTÉ (FORCÉES & ANIMÉES) ====================== */
.pill-easy,
.pill-mid,
.pill-hard{
  border-color: transparent !important;
  background-size: 220% 100% !important;
  animation: pillLoop 6s linear infinite;
  box-shadow: 0 10px 22px rgba(0,0,0,.28), inset 0 0 0 1px rgba(255,255,255,.08);
}
.pill-easy{
  background-image: linear-gradient(90deg, var(--easy1), var(--easy2)) !important;
  color: #041b12 !important;
  text-shadow: 0 1px 0 rgba(255,255,255,.12);
}
.pill-mid{
  background-image: linear-gradient(90deg, var(--mid1), var(--mid2)) !important;
  color: #2d1400 !important;
  text-shadow: 0 1px 0 rgba(255,255,255,.10);
}
.pill-hard{
  background-image: linear-gradient(90deg, var(--hard1), var(--hard2)) !important;
  color: #32020e !important;
  text-shadow: 0 1px 0 rgba(255,255,255,.10);
}
@keyframes pillLoop{
  0%{background-position:0% 50%}
  100%{background-position:220% 50%}
}

/* PAGINATION */
.pagination{display:flex;gap:10px;align-items:center;margin-top:22px}
.pagination a,.pagination span{display:inline-flex;align-items:center;justify-content:center;min-width:44px;height:40px;padding:0 .9rem;border-radius:12px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.05);color:#e8f2ff;text-decoration:none;font-weight:800}
.pagination a:hover{background:rgba(255,255,255,.09)}
.pagination .active span{background:linear-gradient(90deg,var(--brand1),var(--brand2));color:#06121b;border-color:transparent}


/* ====== Mise en page entête catalogue (évite chevauchement) ====== */
.course-head{
  align-items: flex-start;         /* aligne le haut */
  gap: 18px;
  flex-wrap: wrap;                 /* passe en pile sur mobile */
}
.course-head .head-left{
  flex: 1 1 720px;                 /* gros bloc à gauche */
  min-width: 640px;                /* garantit la place des pastilles */
}
.course-head .search-form{
  flex: 0 0 420px;                 /* bloc fixe à droite */
  margin-left: auto;               /* pousse complètement à droite */
  align-self: flex-start;
}

/* Responsive : la search passe en dessous proprement */
@media (max-width: 1100px){
  .course-head .head-left{
    flex-basis: 100%;
    min-width: 100%;
  }
  .course-head .search-form{
    flex-basis: 100%;
    margin-left: 0;
    margin-top: 10px;
    justify-content: flex-start;
  }
}


/* ===== Entête catalogue : grille 2 colonnes ===== */
.course-head{
  display: grid;
  grid-template-columns: 1fr minmax(360px, 460px); /* gauche flexible, droite fixe */
  column-gap: 24px;
  align-items: start;
}

.course-head .head-left{ min-width: 0; } /* évite les débordements */
.course-head .course-search{
  justify-self: end;        /* colle à droite */
  align-self: start;
  display: flex;
  gap: 10px;
}
.course-head .course-search .inp{ width: 100%; }

/* Responsive : la barre passe dessous, pleine largeur */
@media (max-width: 1100px){
  .course-head{
    grid-template-columns: 1fr;
    row-gap: 14px;
  }
  .course-head .course-search{
    justify-self: start;
    width: 100%;
  }
  .course-head .course-search .inp{ flex:1 1 auto; }
}

/* ===== Leçons / Notions : grille & liens ===== */
.lesson-cols{
  display:grid;
  grid-template-columns: 1.1fr .9fr;
  gap:18px;
}
@media (max-width: 980px){
  .lesson-cols{ grid-template-columns: 1fr; }
}

/* Corps de leçon : typographie et liens */
.lesson-body{
  line-height:1.7;
  font-size:1.02rem;
}
.lesson-body a,
.road-link{
  color:#d6eeff;
  text-decoration:none;
  border-bottom:1px dashed rgba(214,238,255,.35);
  transition: color .15s ease, border-color .15s ease, text-shadow .15s ease;
}
.lesson-body a:hover,
.road-link:hover{
  color:#ffffff;
  border-color:transparent;
  text-shadow:0 0 10px rgba(120,220,255,.45);
}

/* Liste “notions” / “dans ce module” */
.road-lessons{
  list-style:none;
  padding:0;
  margin:.25rem 0 0;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.road-lessons li{
  position:relative;
  padding-left:18px;
}
.road-lessons li::before{
  content:"";
  position:absolute; left:0; top:.7em;
  width:8px; height:8px; border-radius:999px;
  background: linear-gradient(90deg,#71dfff,#f6a);
  box-shadow: 0 0 10px rgba(120,220,255,.35);
}

/* Lien actif dans la navigation de module */
.road-link.is-active{
  color:#fff;
  font-weight:900;
  border-bottom-color: transparent;
}

/* Petit lien doux réutilisable */
.link-soft{
  color:#cfe9ff; text-decoration:none; border-bottom:1px dashed rgba(207,233,255,.35);
}
.link-soft:hover{ color:#fff; border-bottom-color:transparent }


/* ===== Markdown (leçons) ===== */
.md{
  line-height:1.75;
  font-size:1.06rem;
  color:#eaf2ff;
}
.md h1,.md h2,.md h3,.md h4,.md h5,.md h6{
  margin:1.1rem 0 .55rem;
  font-weight:900;
  line-height:1.25;
}
.md h1{font-size:2rem}
.md h2{font-size:1.6rem}
.md h3{font-size:1.35rem}
.md h4{font-size:1.15rem}

.md h2,.md h3{
  background:linear-gradient(90deg,#7ee8fa,#80ffea,#a0ff8f,#ffe066);
  -webkit-background-clip:text;background-clip:text;color:transparent;
  text-shadow:0 0 18px rgba(0,0,0,.25);
}
.md p{margin:.5rem 0 1rem}

.md ul,.md ol{margin:.5rem 0 1rem 1.2rem;padding-left:0}
.md ul>li,.md ol>li{margin:.35rem 0}
.md ul>li{list-style:none;position:relative;padding-left:1rem}
.md ul>li::before{
  content:"";position:absolute;left:0;top:.63em;width:7px;height:7px;border-radius:999px;
  background:linear-gradient(90deg,#71dfff,#f6a);
  box-shadow:0 0 8px rgba(120,220,255,.45);
}

.md code{
  background:rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12);
  padding:.12rem .35rem;border-radius:6px;
  font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
}
.md pre{
  background:rgba(7,12,22,.9);
  border:1px solid rgba(255,255,255,.12);
  border-radius:12px;padding:.9rem 1rem;overflow:auto;
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.06);
  margin:1rem 0;
}
.md pre code{background:transparent;border:none;padding:0;white-space:pre}

.md blockquote{
  margin:1rem 0;padding:.75rem 1rem;border-left:4px solid #29abe2;
  background:rgba(41,171,226,.08);border-radius:10px;color:#d8ecff;
}

.md hr{border:none;border-top:1px solid rgba(255,255,255,.1);margin:1.5rem 0}

.md a{color:#bfe3ff;text-decoration:underline;text-decoration-color:rgba(191,227,255,.45)}
.md a:hover{color:#fff;text-decoration-color:#fff}

.md table{width:100%;border-collapse:collapse;margin:1rem 0}
.md th,.md td{border:1px solid rgba(255,255,255,.12);padding:.5rem .65rem}
.md th{background:rgba(255,255,255,.06)}

